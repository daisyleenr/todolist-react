language: node_js
sudo: true
cache: npm

services:
  - docker

env:
  global:
    - DOCKER_USERNAME=daisyleenr
    - secure: nAdcTylhb/aIXMSSl8Ox2f8I+n6cZvoAuig3K2jixNyMG+pWwAhMSb/fVmOCKX7thCBfwt0FcpG/oaxjWkNly5FLNmN+xxG7u0626QxaflRjdHSQMdp5UytLxoPmBVbxDacNxSsxCwsSPgUFIz/UITZ5WoiFYVmNDpxlsKzO2ng1v+nrdKVVRGoJbFDoRN714zxrKQqTAeVw4ZsyMIf/DIUqI2Szto8/gmuQ4kytiJc3DtvRxF2iOm7KNbGjm/4uhzOHtoxUGqEDtlM6pBZnccwx9/dq//KK8Z3XD3rQML3i6oY+4zVRWCxWhAPzOsJREjvgoPohhlppT7zIyEMH38dm0AEGlMJvCT9ttjXNs5zCfaNsaxDQZ+9tn4guu7c24tcHPaDKcXTu1k7yAHt/8neDLLhcaVQ7gfivH0AxVSs6KGUl5yy2Kw9PpfmtrF7/AHPVEXporXiQZDskVC7Gn9jmoxYhvvKwEyyNXTXFPU6mxCTqxgy9VY5om9z/PxvbCXlnuJ1Z75ZasIFCelZej7D6s7TffP6fxeLug9xQHx5NBmn2/+Ci8jTorednunrfpdQYhdh3cfGawDOhPXph3C76NV1gP/qxzR3TOmwvV7yuZhSIUWSa95f0YiMQz/189/t57RNhTqSVrkYr6X02UwA0b0otxQm68ir+cfJMeJY=

before_install:
  - docker build -t daisyleenr/todo-frontend:$TRAVIS_BUILD_NUMBER -t daisyleenr/todo-frontend:latest .
  - docker run -d -p 3000:3000 daisyleenr/todo-frontend:latest
  - docker ps -a

install:
  - npm install

script: true

deploy:
  provider: script
  script: bash docker_push.sh
  on:
    branch: master

notifications:
  slack:
    secure: lk6lt9f1JXhTR6I6T2ks0S0woKF8syWRmBsIp+Qcrv0QU1WBpR7YTXtM8deNoTNQs8eUcQFQaT6xqCEe2ey5EhMvfa/It2Otc5MnpnwvIoYY6rN1a4lqQs64GuXWnxoJfRxr/zvDxk+w95cnNO06hWILcXARokP1sfr510DoKtmaRv5q/BuZrEryLAUYkUBmYa8zyRp2aubvj7TV1IG7pL3CPyoX4pCJQncqWZlVYribEaj8EA54sPK8IUtoxUv8w+yV+thh2wD79CoeoQCr0PeMQGb0cbEn3XitnoKyayaL6tgqUE5KM76To4tp9XMSEiDXcMTc49FYSFjyOyBUoAZ/pRf20A7sJntMx0yADeFcnG3rCd7ryQOvOhAZm3CzAlHMAVCoeo19I5G3IgAKGWSBupF2YPBwdZhBs9M6ZRdKYX4hzVmZya/368rkwP6OUsdtDD+KaLBSWSwDKIqlacLYJFWS9b6dQNs7FrebWZyzAc3jw1e4lq8MZVUJ5jGZ56lJ9jV3NomBySqmIhFJErz30uCsGNNWLR0D4w7nGHD816+TDxQdpijyyUYCHnTZ/AKdfmYs3jdZuFmEwTMwZbxXe6hkygOlzwbSUjQjhFE6Jwxw2BrRCe6G2cfcITPKcJCdZETj2WZaKuCr3yhQZK4XZxsnHCQ861KlYMc64zk=
